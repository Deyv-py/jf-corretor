<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imobiliária</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #4CAF50;
            padding: 1rem;
            color: white;
            text-align: center;
        }
        nav {
            display: flex;
            justify-content: center;
            margin: 1rem 0;
        }
        nav a {
            margin: 0 15px;
            text-decoration: none;
            color: #4CAF50;
            font-weight: bold;
        }
        .container {
            padding: 2rem;
        }
        .property-btn {
            display: inline-block;
            margin-top: 10px;
            padding: 10px 15px;
            background-color: #4CAF50;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
        footer {
            text-align: center;
            margin-top: 2rem;
        }
    </style>
</head>
<body>

<header>
    <h1>Imobiliária Online</h1>
    <nav>
        <a href="#home">Início</a>
    </nav>
</header>

<div class="container" id="content">
    <!-- Conteúdo dinâmico vai aqui -->
</div>

<footer>
    <p>&copy; 2024 - Imobiliária Online</p>
</footer>

<script>
    let properties = [];

    // Função para carregar os dados do arquivo JSON no Dropbox
    async function loadProperties() {
        const response = await fetch('https://ucc041893aac976496bc25d6d9d0.dl.dropboxusercontent.com/cd/0/inline/Cc0qlp6xeWKIvcdh3hv1vsVtPnaMTfYjTJivLFZml2lhkrA1woVwioxDD_xAkw-oILtmmX1bpSipWg8PiJnYFxkqcKAEirvatoZCLMcboKC0Vs9ZNTP1yZQKli9Jaj-uFEWyUa8wjm4oyQXg7tIpMm0J/file#');
        properties = await response.json();
        loadHomePage();
    }

    // Função para carregar a página inicial
    function loadHomePage() {
        const propertyList = properties.map((property, index) => `
            <li>
                <strong>${property.name}</strong> - R$ ${property.price} <br>
                <a class="property-btn" href="${property.link}" target="_blank">Comprar</a>
            </li>
        `).join('');

        document.getElementById('content').innerHTML = `
            <h2>Bem-vindo à nossa imobiliária!</h2>
            <p>Confira nossos imóveis à venda abaixo. Clique em "Comprar" para mais detalhes.</p>
            <ul>${propertyList}</ul>
        `;
    }

    // Função para carregar a página de um imóvel (não utilizada agora, mas mantida para referência)
    function loadPropertyPage(index) {
        const property = properties[index];
        document.getElementById('content').innerHTML = `
            <h2>${property.name}</h2>
            <p>Localização: ${property.location}</p>
            <p>Preço: R$ ${property.price}</p>
            <p>Descrição: ${property.description}</p>
            <a href="#home">Voltar ao Início</a>
        `;
    }

    // Função para carregar conteúdo com base na hash do URL (não utilizada agora, mas mantida para referência)
    function loadPage() {
        const hash = window.location.hash.substring(1);
        if (hash.startsWith('property')) {
            const index = parseInt(hash.replace('property', ''), 10);
            loadPropertyPage(index);
        } else {
            loadHomePage();
        }
    }

    // Carregar os dados e a página correta no primeiro carregamento
    loadProperties();
</script>

</body>
</html>
